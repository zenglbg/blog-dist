{"version":3,"sources":["components/common/preview/index.tsx","components/web/detail/index.tsx"],"names":["Showdown","setOption","setFlavor","converter","Converter","preview","markdown","useEffect","document","getElementById","innerHTML","makeHtml","className","id","Detail","connect","article","getArticle","Article","instance","getArticleItemSuccess","extra","data","type","createdAt","readedCount","this","props","match","params","article_item","title","content","Component"],"mappings":"mGAAA,+EAIAA,IAASC,UAAU,UAAU,GAC7BD,IAASC,UAAU,aAAa,GAChCD,IAASE,UAAU,UAGnB,IAAMC,EAAY,IAAIH,IAASI,UAMhB,SAASC,EAAT,GAA0D,IAAD,IAAtCC,gBAAsC,MAA3B,GAA2B,EAMtE,OALAC,qBAAU,WACIC,SAASC,eAAe,WAChCC,UAAYP,EAAUQ,SAASL,MAInC,yBAAKM,UAAU,WACb,6BAASC,GAAG,UAAUD,UAAU,e,gPCAjBE,EATnBC,aACA,kBAA0B,CACxBC,QADF,EAAGA,WAGH,CACEC,WAAYC,IAAQC,SAASF,WAC7BG,sBAAuBF,IAAQC,SAASC,uB,8MAelCC,MAAQ,SAAAC,GAAI,OAClB,yBAAKV,UAAU,iBACb,uBAAMW,KAAK,WAAWX,UAAU,aAC/BU,EAAKE,UACN,uBAAMD,KAAK,MAAMX,UAAU,QAC1BU,EAAKG,YAJR,wB,mFATAC,KAAKC,MAAMV,WAAWS,KAAKC,MAAMC,MAAMC,U,6CAGvCH,KAAKC,MAAMP,sBAAsB,CAC/BU,aAAc,S,+BAaR,IACAA,EAAiBJ,KAAKC,MAAMX,QAA5Bc,aACR,OAAOA,EACL,yBAAKlB,UAAU,UACb,uBAAMmB,MAAOD,EAAaC,MAAOV,MAAOK,KAAKL,MAAMS,IACjD,yBAAKlB,UAAU,iBACf,kBAAC,IAAD,CAASN,SAAUwB,EAAaE,YAGlC,S,GA9B4BC,e","file":"static/js/22.9c49789f.chunk.js","sourcesContent":["import \"./index.less\";\nimport React, { ReactElement, useState, useEffect } from \"react\";\nimport Showdown from \"showdown\";\n\nShowdown.setOption(\"tables\", true);\nShowdown.setOption(\"tasklists\", true);\nShowdown.setFlavor(\"github\");\n\n// markdown to html转换器\nconst converter = new Showdown.Converter();\n\ninterface Props {\n  markdown?: string;\n}\n\nexport default function preview({ markdown = \"\" }: Props): ReactElement {\n  useEffect(() => {\n    const $el = document.getElementById(\"content\");\n    $el.innerHTML = converter.makeHtml(markdown);\n  });\n\n  return (\n    <div className=\"preview\">\n      <article id=\"content\" className=\"content\"></article>\n    </div>\n  );\n}\n","import \"./index.less\";\nimport React, { Component } from \"react\";\nimport { Icon, Card } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { Article } from \"@actions\";\nimport { IState } from \"@reducer\";\nimport { RouteComponentProps } from \"react-router-dom\";\ninterface Props {\n  getArticle: Function;\n  getArticleItemSuccess: Function;\n}\n\nimport Preview from \"../../common/preview\";\n\n@(connect(\n  ({ article }: IState) => ({\n    article\n  }),\n  {\n    getArticle: Article.instance.getArticle,\n    getArticleItemSuccess: Article.instance.getArticleItemSuccess\n  }\n) as any)\nexport default class Detail extends Component<\n  Props & RouteComponentProps & Pick<IState, \"article\">\n> {\n  public componentDidMount() {\n    this.props.getArticle(this.props.match.params);\n  }\n  public componentWillUnmount() {\n    this.props.getArticleItemSuccess({\n      article_item: null\n    });\n  }\n\n  private extra = data => (\n    <div className=\"extra-wrapper\">\n      <Icon type=\"calendar\" className=\"calender\" />\n      {data.createdAt}\n      <Icon type=\"eye\" className=\"eye\" />\n      {data.readedCount} 次预览\n    </div>\n  );\n\n  render() {\n    const { article_item } = this.props.article;\n    return article_item ? (\n      <div className=\"detail\">\n        <Card title={article_item.title} extra={this.extra(article_item)}>\n          <div className=\"info-wrapper\"></div>\n          <Preview markdown={article_item.content} />\n        </Card>\n      </div>\n    ) : null;\n  }\n}\n"],"sourceRoot":""}